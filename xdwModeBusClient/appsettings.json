{
  "ModbusConfiguration": {
    "AppSettings": {
      "PollingIntervalMs": 1000,
      "RequestTimeoutMs": 3000,
      "RetryCount": 3,
      "RetryIntervalMs": 500,
      "EnableLogging": true,
      "LogFilePath": "logs/modbus.log",
      "EnableDataStorage": true,
      "DataStoragePath": "data/",
      "RequestDelayMs": 50
    },
    "Connections": [
      {
        "ConnectionId": "tcp-plc-01",
        "Name": "主PLC设备",
        "ConnectionType": 0,
        "Enabled": true,
        "TcpConfig": {
          "IpAddress": "192.168.1.100",
          "Port": 502,
          "ConnectTimeoutMs": 5000,
          "KeepAlive": true
        },
        "RtuConfig": null
      },
      {
        "ConnectionId": "tcp-plc-02",
        "Name": "备用PLC设备",
        "ConnectionType": 0,
        "Enabled": false,
        "TcpConfig": {
          "IpAddress": "192.168.1.101",
          "Port": 502,
          "ConnectTimeoutMs": 5000,
          "KeepAlive": true
        },
        "RtuConfig": null
      },
      {
        "ConnectionId": "rtu-device-01",
        "Name": "RTU从站设备",
        "ConnectionType": 1,
        "Enabled": false,
        "TcpConfig": null,
        "RtuConfig": {
          "PortName": "/dev/ttyUSB0",
          "BaudRate": 9600,
          "DataBits": 8,
          "StopBits": 1,
          "Parity": 0,
          "ReadTimeoutMs": 1000,
          "WriteTimeoutMs": 1000,
          "FrameIntervalMs": 50
        }
      }
    ],
    "Packets": [
      {
        "PacketId": "packet-holding-01",
        "Name": "保持寄存器数据包1",
        "ConnectionId": "tcp-plc-01",
        "Enabled": true,
        "SlaveId": 1,
        "FunctionCode": 3,
        "StartAddress": 0,
        "RegisterCount": 10,
        "PollingIntervalMs": 1000,
        "DataPoints": [
          {
            "PointId": "temperature",
            "Name": "温度",
            "Offset": 0,
            "DataType": 4,
            "ByteOrder": 0,
            "Scale": 0.1,
            "OffsetValue": 0.0,
            "Unit": "°C",
            "Description": "当前温度值",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "pressure",
            "Name": "压力",
            "Offset": 2,
            "DataType": 4,
            "ByteOrder": 0,
            "Scale": 0.01,
            "OffsetValue": 0.0,
            "Unit": "MPa",
            "Description": "当前压力值",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "flow-rate",
            "Name": "流量",
            "Offset": 4,
            "DataType": 2,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "m³/h",
            "Description": "当前流量",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "status-word",
            "Name": "状态字",
            "Offset": 6,
            "DataType": 0,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "设备状态字",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "alarm-bit-0",
            "Name": "告警位0",
            "Offset": 6,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "状态字第0位",
            "BitIndex": 0,
            "StringLength": 0
          },
          {
            "PointId": "alarm-bit-1",
            "Name": "告警位1",
            "Offset": 6,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "状态字第1位",
            "BitIndex": 1,
            "StringLength": 0
          }
        ],
        "WriteData": null
      },
      {
        "PacketId": "packet-holding-02",
        "Name": "保持寄存器数据包2",
        "ConnectionId": "tcp-plc-01",
        "Enabled": true,
        "SlaveId": 1,
        "FunctionCode": 3,
        "StartAddress": 100,
        "RegisterCount": 20,
        "PollingIntervalMs": 2000,
        "DataPoints": [
          {
            "PointId": "motor-speed",
            "Name": "电机转速",
            "Offset": 0,
            "DataType": 0,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "RPM",
            "Description": "电机实时转速",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "motor-current",
            "Name": "电机电流",
            "Offset": 1,
            "DataType": 0,
            "ByteOrder": 0,
            "Scale": 0.01,
            "OffsetValue": 0.0,
            "Unit": "A",
            "Description": "电机电流",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "total-runtime",
            "Name": "累计运行时间",
            "Offset": 2,
            "DataType": 2,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "h",
            "Description": "设备累计运行时间",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "production-count",
            "Name": "生产计数",
            "Offset": 4,
            "DataType": 2,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "个",
            "Description": "产品生产数量",
            "BitIndex": -1,
            "StringLength": 0
          }
        ],
        "WriteData": null
      },
      {
        "PacketId": "packet-input-01",
        "Name": "输入寄存器数据包",
        "ConnectionId": "tcp-plc-01",
        "Enabled": true,
        "SlaveId": 1,
        "FunctionCode": 4,
        "StartAddress": 0,
        "RegisterCount": 8,
        "PollingIntervalMs": 500,
        "DataPoints": [
          {
            "PointId": "analog-input-1",
            "Name": "模拟量输入1",
            "Offset": 0,
            "DataType": 0,
            "ByteOrder": 0,
            "Scale": 0.001,
            "OffsetValue": 0.0,
            "Unit": "V",
            "Description": "4-20mA输入1",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "analog-input-2",
            "Name": "模拟量输入2",
            "Offset": 1,
            "DataType": 0,
            "ByteOrder": 0,
            "Scale": 0.001,
            "OffsetValue": 0.0,
            "Unit": "V",
            "Description": "4-20mA输入2",
            "BitIndex": -1,
            "StringLength": 0
          }
        ],
        "WriteData": null
      },
      {
        "PacketId": "packet-coils-01",
        "Name": "线圈数据包",
        "ConnectionId": "tcp-plc-01",
        "Enabled": true,
        "SlaveId": 1,
        "FunctionCode": 1,
        "StartAddress": 0,
        "RegisterCount": 16,
        "PollingIntervalMs": 500,
        "DataPoints": [
          {
            "PointId": "coil-0",
            "Name": "线圈0",
            "Offset": 0,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "开关量输出0",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "coil-1",
            "Name": "线圈1",
            "Offset": 1,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "开关量输出1",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "coil-2",
            "Name": "线圈2",
            "Offset": 2,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "开关量输出2",
            "BitIndex": -1,
            "StringLength": 0
          }
        ],
        "WriteData": null
      },
      {
        "PacketId": "packet-discrete-01",
        "Name": "离散输入数据包",
        "ConnectionId": "tcp-plc-01",
        "Enabled": true,
        "SlaveId": 1,
        "FunctionCode": 2,
        "StartAddress": 0,
        "RegisterCount": 8,
        "PollingIntervalMs": 500,
        "DataPoints": [
          {
            "PointId": "di-0",
            "Name": "数字输入0",
            "Offset": 0,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "开关量输入0",
            "BitIndex": -1,
            "StringLength": 0
          },
          {
            "PointId": "di-1",
            "Name": "数字输入1",
            "Offset": 1,
            "DataType": 8,
            "ByteOrder": 0,
            "Scale": 1.0,
            "OffsetValue": 0.0,
            "Unit": "",
            "Description": "开关量输入1",
            "BitIndex": -1,
            "StringLength": 0
          }
        ],
        "WriteData": null
      }
    ]
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning"
    }
  }
}
